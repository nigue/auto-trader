<!DOCTYPE html>
<html lang="en"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="primefaces">
<h:head>
    <title>Progreso con Navegaci√≥n</title>
</h:head>
<h:body>
    <h:form id="form">
        <p:growl id="growl" showDetail="true"/>

        <h5><p:outputLabel for="@next" value="Key"/></h5>
        <p:password id="key" value="#{login.key}"/>

        <h5><p:outputLabel for="@next" value="Secret"/></h5>
        <p:password id="secret" value="#{login.secret}"/>

        <br/>
        <p:commandButton id="executeButton"
                         widgetVar="executeButtonWidget"
                         update="growl"
                         action="#{login.longOperation}"
                         async="true"
                         process="@form"
                         value="start import"
                         onclick="PF('progress').start();PF('executeButtonWidget').disable()"
                         global="false"/>
        <br/>
        <p:progressBar ajax="true"
                       widgetVar="progress"
                       value="#{login.progress}"
                       labelTemplate="{value}%"
                       interval="2000"
                       styleClass="animated"
                       global="false"/>
    </h:form>
</h:body>
</html>