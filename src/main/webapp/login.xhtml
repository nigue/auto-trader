<!DOCTYPE html>
<html lang="en"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="primefaces">
<h:head>
    <title>Progreso con Navegaci√≥n</title>
</h:head>
<h:body>
    <h:form id="form">
        <p:growl id="growl" showDetail="true" />
        <p:commandButton id="executeButton"
                         update="growl"
                         action="#{myBean.longOperation}"
                         async="true"
                         process="@form"
                         value="start import"
                         onclick="PF('progress').start()"
                         global="false" />

        <br />

        <p:progressBar ajax="true"
                       widgetVar="progress"
                       value="#{myBean.progress}"
                       labelTemplate="{value}%"
                       styleClass="animated"
                       global="false" />

        <br />

        <p:outputPanel id="result"
                       autoUpdate="true">
            <h:outputText value="#{myBean.message}" />
        </p:outputPanel>
    </h:form>
</h:body>
</html>